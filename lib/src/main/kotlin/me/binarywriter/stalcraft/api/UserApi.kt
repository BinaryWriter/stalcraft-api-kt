/*
 * Copyright (c) 2023. BinaryWriter
 */

package me.binarywriter.stalcraft.api

import me.binarywriter.stalcraft.api.enums.Region
import me.binarywriter.stalcraft.api.models.characters.FullCharacterInfo
import me.binarywriter.stalcraft.api.models.clans.ClanMember

@Suppress("unused")
class UserApi(
    region: Region,
    token: String,
    isDemo: Boolean
) : Api(region, token, isDemo) {
    companion object {
        const val DEMO_USER_TOKEN =
            "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiIxIiwic3ViIjoiMSIsIm5iZiI6MTY3Mzc5NzgzOCwiZXhwIjo0ODI3Mzk3ODM4LCJpYXQiOjE2NzM3OTc4MzgsImp0aSI6IjJlamRwOG54a3A1djRnZWdhbWVyeWlkMW5ic24zZDhpZ2oyejgzem1vMDYzNjNoaXFkNWhwOTY1MHZwdWh4OXEybXBmd2hnbnUxNHR5cmp2In0.Ocw4CzkkuenkAOjkAR1RuFgLqix7VJ-8vWVS3KAJ1T3SgIWJG145xqG2qms99knu5azn_oaoeyMOXhyG_fuMQFGOju317GiS6pAXAFGOKvxcUCfdpFcEHO6TWGM8191-tlfV-0rAqCi62gprKyr-SrUG3nUJhv6XKegja_vYVujRVx0ouAaDvDKawiOssG5If_hXGhdhnmb3_7onnIc4hFsm4i9QVkWXe8GO6OsS999ZIX0ClNhTk2kKKTl2dDVIiKha_HB1aghm_LOYoRgb3i3B_DH4UO312rHYR5I4qO43c8x-TW7NwovItDSzhiCmcxZuUUeAUF3yFr5ovaR4fMj1LEy3y3V2piQDKPwmBOpI9S6OzWUIBJYcRYlT2HIrWCRc0YvM7AOGoxcH2Gf4ncqcF_M8fw7IMKf3pdnuxf1EbdEpzOapBD1Pw065em-U8PN4LVzw9lhIHx_Yj69qaFEx7Bhw3BCwsrx-o9hgg7T1TOV6kF11YfR99lIuj9z96XBLg5ipt-M_j7nHRoHWhM0Rc6uLIKPg0In0xYkybSfWG6v3Hs6kwgB7wkqpXpoVQltJvlqjtlf9Pp4zmkqlWQHx9as4xsgoTAQyCgaC0kisICNC58_g3QrJAfoFXW68x-OHlRKCAPqoR9V-0cVs-B83szaFmsEGegAttFLlDhE"
    }

    /**
     * Returns list of character names who are friend with specified character.
     */
    fun getFriendList(character: String): List<String> = get("friends/${character}")

    /**
     * Returns list of characters created by the user by which used access token was provided.
     */
    fun getCharacters(): List<FullCharacterInfo> = get("characters")

    /**
     * Returns list of members in the given. Can be used only when using user access token and that user has at least one character in that clan.
     */
    fun getClanMembers(clanId: String): List<ClanMember> = get("clan/${clanId}/members")
}